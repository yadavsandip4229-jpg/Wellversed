<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Wellversed-like Demo Store</title>
<style>
  /* Reset / Base (same design as before) */
  :root{--accent:#22b8b0;--muted:#8b9aa3;--card:#ffffff;--bg:#f4f6f7;--danger:#e74c3c;--success:#2ecc71;}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Roboto,'Noto Sans',sans-serif;background:var(--bg);color:#0b2540;-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}

  /* Header */
  header{background:#fff;padding:12px 14px;border-bottom:1px solid #e6eef0;position:sticky;top:0;z-index:40}
  .top{display:flex;align-items:center;gap:12px;max-width:1100px;margin:0 auto}
  .brand{color:var(--accent);font-weight:700;font-size:20px}
  .search{flex:1}
  .search input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #e0eceb;font-size:14px}
  .icon-btn{width:36px;height:36px;border-radius:8px;background:#f1fbfa;display:flex;align-items:center;justify-content:center}

  /* Main layout */
  main{max-width:1100px;margin:14px auto;padding:0 14px}
  .controls{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  .filters{background:#fff;padding:8px 12px;border-radius:8px;box-shadow:0 1px 0 rgba(0,0,0,0.03)}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}

  /* Card */
  .card{background:var(--card);border-radius:12px;padding:10px;box-shadow:0 6px 20px rgba(10,30,40,0.04);position:relative;overflow:hidden}
  .card img{width:100%;height:130px;object-fit:contain;border-radius:8px;background:#fafafa}
  .rating{position:absolute;left:12px;top:12px;background:#18a999;color:#fff;padding:6px 8px;border-radius:8px;font-weight:700;font-size:13px}
  .veg{position:absolute;right:12px;top:12px;border-radius:6px;padding:4px 6px;background:#fff;border:1px solid #e6f2f0;font-size:12px}
  .title{margin-top:10px;font-weight:600;font-size:15px;line-height:1.2}
  .price-row{display:flex;align-items:center;justify-content:space-between;margin-top:8px}
  .price{font-weight:800;font-size:16px}
  .old{color:var(--muted);text-decoration:line-through;font-size:13px;margin-left:8px}
  .off{color:#0aa64a;font-weight:700;font-size:13px;margin-top:6px}
  .add{display:inline-block;margin-top:10px;padding:10px;border-radius:10px;border:2px solid var(--accent);background:#fff;cursor:pointer;font-weight:700}

  /* Cart bar (floating bottom) */
  .cartbar{position:fixed;left:12px;right:12px;bottom:12px;background:var(--accent);padding:12px 16px;color:#fff;display:flex;align-items:center;justify-content:space-between;border-radius:10px;box-shadow:0 8px 30px rgba(0,0,0,0.12);z-index:50}
  .cartbar .btn{background:#fff;color:var(--accent);padding:8px 10px;border-radius:8px;border:none;font-weight:700;cursor:pointer}

  /* Drawer */
  .drawer-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.35);display:none;z-index:60}
  .drawer{position:fixed;right:0;left:0;bottom:0;height:86vh;background:#fff;border-top-left-radius:14px;border-top-right-radius:14px;box-shadow:0 -6px 30px rgba(0,0,0,0.12);padding:12px 14px;display:flex;flex-direction:column;transform:translateY(100%);transition:transform .25s ease;z-index:70}
  .drawer.open{transform:translateY(0)}
  .drawer-header{display:flex;align-items:center;justify-content:space-between;padding-bottom:8px;border-bottom:1px solid #eef3f4}
  .drawer-body{overflow:auto;padding:10px 0 80px 0;flex:1}
  .cart-item{display:flex;gap:12px;background:#fbfdfe;border-radius:12px;padding:10px;margin-bottom:10px;align-items:center}
  .cart-item img{width:72px;height:72px;object-fit:contain;border-radius:8px;background:#fff}
  .cart-meta{flex:1}
  .qty{display:flex;align-items:center;gap:8px;margin-top:10px}
  .qty button{width:36px;height:36px;border-radius:8px;border:1px solid #e3eef0;background:#fff;font-weight:700}
  .trash{background:transparent;border:none;color:var(--danger);font-size:18px;cursor:pointer}

  .coupon{background:#f7fbfb;padding:10px;border-radius:12px;margin:10px 0;border:1px dashed #dceeea}
  .bundle{background:#ececec;border-radius:12px;padding:12px;margin:12px 0;display:flex;gap:10px;overflow:auto}
  .bundle-card{min-width:160px;background:#fff;padding:8px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.03);margin-right:8px}
  .summary{padding:12px;border-radius:12px;background:#fff;margin-top:8px;box-shadow:0 6px 18px rgba(10,30,40,0.04)}

  /* Checkout modal inside drawer */
  .checkout{margin-top:10px}
  .checkout .row{margin-bottom:8px}
  .pay-options{display:flex;gap:8px;overflow:auto;padding-bottom:8px}
  .pay-card{min-width:90px;background:#fff;padding:8px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.03);text-align:center}

  /* small text */
  .muted{color:var(--muted);font-size:13px}
  /* responsive */
  @media(min-width:700px){
    main{padding:18px}
    .grid{grid-template-columns:repeat(2,1fr)}
    .drawer{left:auto;right:24px;bottom:24px;width:420px;height:90vh;border-radius:14px}
  }
  @media(min-width:1000px){
    .grid{grid-template-columns:repeat(3,1fr)}
    .drawer{width:520px}
  }

  /* tiny helper */
  .center{text-align:center}

  /* success toast */
  #successBox{
    display:none;
    position:fixed;
    left:50%;
    transform:translateX(-50%);
    bottom:84px;
    background:var(--success);
    color:#fff;
    padding:12px 18px;
    border-radius:10px;
    z-index:95;
    font-weight:700;
  }

  /* simple form styles inside checkout */
  .checkout-form input, .checkout-form select {
    width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef0;margin-bottom:8px;
  }
</style>
</head>
<body>

<header>
  <div class="top">
    <div class="brand">wellversed<span style="font-weight:400;color:#4a6570">â„¢</span></div>
    <div class="search"><input id="searchInput" placeholder="Search for Health Supplements" oninput="onSearch()" /></div>
    <div class="icon-btn" title="Wishlist">â™¡</div>
  </div>
</header>

<main>
  <div class="controls">
    <div class="filters">Filters</div>
    <div class="muted">Sort by: <button onclick="alert('Sorting demo')">â‡…</button></div>
  </div>

  <section class="grid" id="productGrid">
    <!-- JS generates cards -->
  </section>
</main>

<!-- floating cart bar -->
<div class="cartbar" id="cartbar" style="display:none">
  <div>ðŸ›’ <span id="cartCount">0</span> items â€¢ â‚¹<span id="cartTotal">0</span></div>
  <div>
    <button class="btn" onclick="openDrawer()">VIEW CART</button>
  </div>
</div>

<!-- Drawer -->
<div class="drawer-backdrop" id="backdrop" onclick="closeDrawer()"></div>
<div class="drawer" id="cartDrawer" aria-hidden="true">
  <div class="drawer-header">
    <div style="font-weight:800">Your Cart (<span id="cartCountHeading">0</span> items)</div>
    <div><button onclick="closeDrawer()" style="background:transparent;border:none;font-size:22px;cursor:pointer">âœ•</button></div>
  </div>

  <div class="drawer-body" id="drawerBody">
    <!-- Progress / offers -->
    <div class="center muted" style="padding:10px 0">
      Shop more to Unlock! <br/>
      <small class="muted">Flat coupons at â‚¹1999 / â‚¹2599 / â‚¹2999</small>
      <div style="height:8px;background:#eef6f5;border-radius:20px;margin-top:8px;overflow:hidden">
        <div id="progressBar" style="height:8px;background:var(--accent);width:0%"></div>
      </div>
    </div>

    <!-- Cart items -->
    <div id="cartItemsContainer"></div>

    <!-- Coupon -->
    <div class="coupon">
      <input id="couponInput" placeholder="Enter Coupon Code (e.g. SAVE50)" style="width:65%;padding:8px;border-radius:8px;border:1px solid #e6f2f0"/>
      <button onclick="applyCoupon()" style="padding:8px 10px;border-radius:8px;margin-left:8px;background:var(--accent);color:#fff;border:none">Apply</button>
      <div id="couponMsg" class="muted" style="margin-top:8px"></div>
    </div>

    <!-- Bundle -->
    <div>
      <div style="font-weight:700;margin-bottom:8px">Build Your Bundle</div>
      <div class="bundle" id="bundleList"></div>
    </div>

    <!-- Summary -->
    <div class="summary">
      <div style="display:flex;justify-content:space-between"><div class="muted">Estimated Total</div><div class="muted old" id="oldTotalStr"></div></div>
      <div style="display:flex;justify-content:space-between;margin-top:6px"><div style="font-weight:800;font-size:18px">â‚¹<span id="finalTotal">0</span></div><div class="muted">You saved â‚¹<span id="savedAmt">0</span></div></div>
      <div style="margin-top:12px">
        <button onclick="openCheckout()" style="width:100%;padding:12px;border-radius:10px;border:none;background:var(--accent);color:#fff;font-weight:800">Checkout</button>
      </div>
    </div>

    <div class="muted center" style="margin-top:12px">Free Shipping On all Orders!!</div>
  </div>
</div>

<!-- Checkout full-screen modal -->
<div id="checkoutModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.45);z-index:80;align-items:center;justify-content:center">
  <div style="background:#fff;border-radius:12px;max-width:700px;width:96%;max-height:92vh;overflow:auto;padding:14px;position:relative">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <div style="font-weight:800;font-size:18px">Checkout</div>
      <button onclick="closeCheckout()" style="background:transparent;border:none;font-size:20px;cursor:pointer">âœ•</button>
    </div>

    <!-- Delivery Summary -->
    <div style="background:#fbfdfe;padding:12px;border-radius:10px;margin-bottom:12px">
      <div style="display:flex;justify-content:space-between">
        <div><strong>Order Summary</strong><div class="muted" id="checkoutSaved">You saved â‚¹0 so far</div></div>
        <div style="font-weight:800">â‚¹<span id="checkoutTotal">0</span></div>
      </div>

      <div style="margin-top:10px">
        <div style="font-weight:700">Deliver To</div>
        <div class="muted" id="deliverTo">Enter details in form below</div>
      </div>
    </div>

    <!-- Checkout Form -->
    <div class="checkout-form" style="background:#fff;padding:12px;border-radius:10px;margin-bottom:12px;box-shadow:0 6px 18px rgba(10,30,40,0.04)">
      <div style="font-weight:700;margin-bottom:8px">Delivery Details</div>
      <div style="display:flex;gap:8px">
        <input id="firstName" placeholder="First name" />
        <input id="lastName" placeholder="Last name" />
      </div>
      <input id="state" placeholder="State" />
      <input id="city" placeholder="City" />
      <input id="address" placeholder="Address (House, Street, Locality)" />
      <input id="mobile" placeholder="Mobile number" />
    </div>

    <!-- Offers & Rewards -->
    <div style="background:#fff;padding:12px;border-radius:10px;margin-bottom:12px;box-shadow:0 6px 18px rgba(10,30,40,0.04)">
      <div style="font-weight:700;margin-bottom:6px">Offers & Rewards</div>
      <div style="display:flex;gap:8px">
        <input id="checkoutCoupon" placeholder="Enter coupon code (SAVE50)" style="flex:1;padding:10px;border-radius:8px;border:1px solid #eef3f4"/>
        <button onclick="applyCheckoutCoupon()" style="padding:10px 12px;bo
